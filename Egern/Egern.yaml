# > 𝐥𝐚𝐨𝐬𝐡𝐮@𝐄𝐠𝐞𝐫𝐧 自用配置
# > 配置下载𝐔𝐑𝐋： https://raw.githubusercontent.com/jnlaoshu/MySelf/master/Egern/Egern.yaml
# > 𝐔𝐩𝐝𝐚𝐭𝐞: 2024.06.07 10:40

vif_only: true
hijack_dns:
- '*:53'
geoip_db_url: https://raw.githubusercontent.com/Loyalsoldier/geoip/release/Country.mmdb
dns_servers:
- 233.5.5.5
- 119.29.29.29
hosts:
  doh.pub: 1.12.12.12
  dot.pub: 1.12.12.12
  dns.alidns.com: 223.5.5.5
secure_dns:
  servers:
  - quic://223.5.5.5
  - https://dns.alidns.com/dns-query
  ecs: false
  public_ip_lookup_url: ''
policy_groups:
- select:
    name: Proxy
    policies:
    - HongKong
    - TaiWan
    - Japan
    - Singapore
    - America
    - Korea
    - Other
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Proxy.png
- select:
    name: Apple
    policies:
    - DIRECT
    - HongKong
    - TaiWan
    - Japan
    - Singapore
    - America
    - Korea
    - Other
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Apple.png
- select:
    name: BiliBili
    policies:
    - DIRECT
    - HongKong
    - TaiWan
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/bilibili.png
- select:
    name: ChatGPT
    policies:
    - America
    - HongKong
    - TaiWan
    - Japan
    - Singapore
    - Korea
    - Other
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Bot.png
- select:
    name: Google
    policies:
    - Proxy
    - HongKong
    - TaiWan
    - Japan
    - Singapore
    - America
    - Korea
    - Other    
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Google.png   
- select:
    name: Microsoft
    policies:
    - DIRECT
    - HongKong
    - TaiWan
    - Japan
    - Singapore
    - America
    - Korea
    - Other   
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Microsoft.png
- select:
    name: PayPal
    policies:
    - America
    - HongKong
    - TaiWan
    - Japan
    - Singapore
    - Korea
    - Other
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/PayPal.png
- select:
    name: Spotify
    policies:
    - America
    - HongKong
    - TaiWan
    - Japan
    - Singapore
    - Korea
    - Other
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Spotify.png
- select:
    name: Telegram
    policies:
    - Proxy
    - HongKong
    - TaiWan
    - Japan
    - Singapore
    - America
    - Korea
    - Other
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Telegram.png
- select:
    name: Twitter
    policies:
    - Proxy
    - HongKong
    - TaiWan
    - Japan
    - Singapore
    - America
    - Korea
    - Other
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Twitter.png
- select:
    name: WeChat
    policies:
    - DIRECT
    - Singapore    
    - HongKong
    - TaiWan
    - Japan
    - America
    - Korea
    - Other    
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/WeChat.png
- select:
    name: YouTube
    policies:
    - Proxy
    - HongKong
    - TaiWan
    - Japan
    - Singapore
    - America
    - Korea
    - Other    
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/YouTube.png
- select:
    name: Global
    policies:
    - Proxy
    - HongKong
    - TaiWan
    - Japan
    - Singapore
    - America
    - Korea
    - Other
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Global.png
- select:
    name: Final
    policies:
    - Proxy
    - HongKong
    - TaiWan
    - Japan
    - Singapore
    - America
    - Korea
    - Other
    - DIRECT
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Final.png
- select:
    name: HongKong
    policies:
    - Allserver
    flatten: true
    filter: 🇭🇰|港|HK|Hong
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/HK.png
- select:
    name: TaiWan
    policies:
    - Allserver
    flatten: true
    filter: 🇹🇼|台|TW|Tai
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/TW.png
- select:
    name: Japan
    policies:
    - Allserver
    flatten: true
    filter: 🇯🇵|日|JP|Japan
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/JP.png
- select:
    name: Singapore
    policies:
    - Allserver
    flatten: true
    filter: 🇸🇬|坡|狮城|SG|Singapore
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/SG.png
- select:
    name: America
    policies:
    - Allserver
    flatten: true
    filter: 🇺🇸|美|US|States|American
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/United_States.png
- select:
    name: Korea
    policies:
    - Allserver
    flatten: true
    filter: 🇰🇷|韩|KR|KOR|Korea
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/KR.png
- select:
    name: Other
    policies:
    - Allserver
    flatten: true
    filter: ^((?!🇭🇰|港|HK|Hong|🇹🇼|台|TW|Tai|🇯🇵|日|JP|Japan|🇸🇬|坡|狮城|SG|Singapore|🇰🇷|韩|KR|KOR|Korea|🇺🇸|美|US|States|American|Music).)*$
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/United_States.png
- external:
    name: Allserver
    type: select
    urls:
    - https://sub.store/download/collection/AllServer?target=Surge
    hidden: false
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Round_Robin.png
rules:
- domain_regex:
    match: ^ad\..*|^ads\..*
    policy: REJECT
- rule_set:
    match: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanAD.list
    policy: REJECT
- rule_set:
    match: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Apple/Apple.list
    policy: Apple
- rule_set:
    match: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Apple/Apple_Domain.list
    policy: Apple
- rule_set:
    match: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/BiliBili/BiliBili.list
    policy: BiliBili
- rule_set:
    match: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/OpenAI/OpenAI.list
    policy: ChatGPT
- rule_set:
    match: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/GitHub/GitHub.list
    policy: Global
- rule_set:
    match: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Google/Google.list
    policy: Google
- rule_set:
    match: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Microsoft/Microsoft.list
    policy: Microsoft
- rule_set:
    match: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/NetEaseMusic/NetEaseMusic.list
    policy: DIRECT
- rule_set:
    match: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/PayPal/PayPal.list
    policy: PayPal
- rule_set:
    match: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Spotify/Spotify.list
    policy: Spotify
- rule_set:
    match: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Telegram/Telegram.list
    policy: Telegram
- rule_set:
    match: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/TestFlight/TestFlight.list
    policy: Global
- rule_set:
    match: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Twitter/Twitter.list
    policy: Twitter
- rule_set:
    match: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/WeChat/WeChat.list
    policy: WeChat
- rule_set:
    match: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/YouTube/YouTube.list
    policy: YouTube
- rule_set:
    match: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Global/Global_All_No_Resolve.list
    policy: Global
- rule_set:
    match: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Lan/Lan.list
    policy: DIRECT
- domain:
    match: ifconfig.me
    policy: DIRECT
- domain_suffix:
    match: cn
    policy: DIRECT
- geoip:
    match: CN
    policy: DIRECT
- ip_cidr:
    match: 192.168.0.0/16
    policy: DIRECT
- ip_cidr:
    match: 10.0.0.0/8
    policy: DIRECT
- ip_cidr:
    match: 127.0.0.0/8
    policy: DIRECT
- ip_cidr:
    match: 172.16.0.0/12
    policy: DIRECT
- ip_cidr:
    match: 192.128.0.0/16
    policy: DIRECT
- ip_cidr:
    match: 224.0.0.0/24
    policy: DIRECT    
- default:
    policy: Final
mitm:
  enabled: true
  ca_p12: egern.p12
  ca_passphrase: egern
modules:
- name: Boxjs
  url: https://raw.githubusercontent.com/chavyleung/scripts/master/box/rewrite/boxjs.rewrite.surge.sgmodule
  enabled: true
- name: Scripthub
  url: https://raw.githubusercontent.com/Script-Hub-Org/Script-Hub/main/modules/script-hub.surge.sgmodule
  enabled: true
- name: Sub-Store订阅
  url: https://raw.githubusercontent.com/sub-store-org/Sub-Store/master/config/Surge.sgmodule  
  enabled: true
- name: ''
  url: https://raw.githubusercontent.com/app2smile/rules/master/module/spotify.module
  enabled: true
- name: ''
  url: https://raw.githubusercontent.com/Maasea/sgmodule/master/YouTube.Enhance.sgmodule
  enabled: true
- name: '高德地图去广告'
  url: https://raw.githubusercontent.com/Repcz/Tool/X/Surge/Module/NoAds/Amap.sgmodule
  enabled: true
- name: '滴滴出行去广告'
  url: https://raw.githubusercontent.com/Repcz/Tool/X/Surge/Module/NoAds/Didichuxing.sgmodule
  enabled: true
